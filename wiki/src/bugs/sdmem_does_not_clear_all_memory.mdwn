After following the steps for "[[contribute/release_process/test/erase_memory_on_shutdown]]"
it turns out some patterns may survive the wipe which indicates that
not all memory was wiped. One theory for this is that the new kernel
loaded by kexec may allocate some buffer, which then is filled with
the pattern and won't get cleared, since sdmem only wipes unallocated
memory.

This was supposedly not a problem for some testers prior to Tails 0.8
but I can reliably reproduce this problem on a machine (with 4 GB or
RAM if that matters) with both Tails 0.8 and 0.7.2.

> Hi, not sure how to comment so I will just add it here. The test is
> incorrect, since on a 32-bit architecture the address space of a
> given process is usually limited at 3 GiB (or less, depends on the
> kernel configuration). It's not easy to change the Python script to
> fill all available memory (it's possible, but complex due to
> kernel's OOM killer behavior), but your best bet would be to spawn
> many pattern filler processes simultaneously, hoping that at least
> some executions will overlap. Then, on a 4 GiB machine you will see
> about 1 GiB of non-wiped memory (and on systems with > 4 GiB RAM,
> with PAE enabled, you won't wipe that extra memory, too, of course).
> Sorry to burst your bubble â€” wiping memory is not easy, and THC's
> SecureDelete package is mostly badly implemented snake oil based on
> wrongly interpreted old theoretical papers. Anyway, to see whether
> the 3 GiB limit has anything to do with the unwiped patterns you
> have seen thus far, retry on a system with less than 3 GiB RAM. --MK

>> Right. Updated the [[testing
>> documentation|contribute/release_process/test/erase_memory_on_shutdown]]
>> accordingly. Thanks for pointing this out. --intrigeri
